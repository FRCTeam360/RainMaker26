<?xml version="1.0" encoding="UTF-8"?>
<FindBugsFilter>
  <!-- Exclude auto-generated files -->
  <Match>
    <Class name="~.*\.BuildConstants" />
  </Match>
  <Match>
    <Class name="~.*\.generated\..*" />
  </Match>

  <!-- Exclude AdvantageKit AutoLogged classes (generated by @AutoLog annotation) -->
  <Match>
    <Class name="~.*AutoLogged" />
  </Match>

  <!-- Exclude vendor library helper classes -->
  <Match>
    <Class name="~.*\.LimelightHelpers.*" />
  </Match>

  <!--
    Suppress serialization warnings - robot code doesn't serialize objects
    and WPILib classes intentionally don't implement Serializable
  -->
  <Match>
    <Bug pattern="SE_BAD_FIELD,SE_NO_SERIALVERSIONID" />
  </Match>

  <!--
    Suppress switch fallthrough warnings in command-based code where
    intentional fallthrough is a valid pattern for state machines
  -->
  <Match>
    <Class name="~.*Command.*" />
    <Bug pattern="SF_SWITCH_FALLTHROUGH" />
  </Match>

  <!--
    WPILib TimedRobot methods are called by the framework,
    so "unused" warnings are false positives
  -->
  <Match>
    <Or>
      <Method name="robotInit" />
      <Method name="robotPeriodic" />
      <Method name="autonomousInit" />
      <Method name="autonomousPeriodic" />
      <Method name="teleopInit" />
      <Method name="teleopPeriodic" />
      <Method name="disabledInit" />
      <Method name="disabledPeriodic" />
      <Method name="testInit" />
      <Method name="testPeriodic" />
      <Method name="simulationInit" />
      <Method name="simulationPeriodic" />
    </Or>
    <Bug pattern="UPM_UNCALLED_PRIVATE_METHOD" />
  </Match>

  <!--
    SubsystemBase.periodic() methods called by CommandScheduler
  -->
  <Match>
    <Method name="periodic" />
    <Bug pattern="UPM_UNCALLED_PRIVATE_METHOD" />
  </Match>

  <!--
    AdvantageKit IO update methods are called via reflection
  -->
  <Match>
    <Or>
      <Method name="updateInputs" />
      <Method name="~.*Inputs" />
    </Or>
    <Bug pattern="UPM_UNCALLED_PRIVATE_METHOD,URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD" />
  </Match>

  <!--
    Suppress warnings about non-transient non-serializable fields
    in classes that extend Command (not serialized in robot code)
  -->
  <Match>
    <Class name="~.*Command" />
    <Bug pattern="SE_BAD_FIELD_INNER_CLASS" />
  </Match>
</FindBugsFilter>
